<Window x:Class="ThreeQuestion.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ThreeQuestion"
        mc:Ignorable="d"
        Title="Three Question Minute Repeater Clock" Height="600" Width="600"
        Background="#222222">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Clock Face -->
        <Viewbox Grid.Row="0" Margin="20">
            <Grid Width="400" Height="400">
                <!-- Outer Border -->
                <Ellipse Stroke="#D4AF37" StrokeThickness="8" Fill="#EEEEEE">
                    <Ellipse.Effect>
                        <DropShadowEffect Color="Black" BlurRadius="10" ShadowDepth="5" Opacity="0.5"/>
                    </Ellipse.Effect>
                </Ellipse>

                <!-- Ticks Container -->
                <Canvas x:Name="TicksCanvas" Width="400" Height="400" />

                <!-- Hour Hand -->
                <Rectangle x:Name="HourHand" Width="8" Height="100" Fill="Black" RadiusX="2" RadiusY="2"
                           RenderTransformOrigin="0.5, 1" Margin="0,0,0,100" HorizontalAlignment="Center" VerticalAlignment="Center">
                    <Rectangle.RenderTransform>
                        <RotateTransform x:Name="HourHandTransform" Angle="0"/>
                    </Rectangle.RenderTransform>
                </Rectangle>

                <!-- Minute Hand -->
                <Rectangle x:Name="MinuteHand" Width="4" Height="140" Fill="#444444" RadiusX="2" RadiusY="2"
                           RenderTransformOrigin="0.5, 1" Margin="0,0,0,140" HorizontalAlignment="Center" VerticalAlignment="Center">
                    <Rectangle.RenderTransform>
                        <RotateTransform x:Name="MinuteHandTransform" Angle="0"/>
                    </Rectangle.RenderTransform>
                </Rectangle>

                <!-- Second Hand -->
                <Rectangle x:Name="SecondHand" Width="2" Height="160" Fill="#B22222"
                           RenderTransformOrigin="0.5, 1" Margin="0,0,0,160" HorizontalAlignment="Center" VerticalAlignment="Center">
                    <Rectangle.RenderTransform>
                        <RotateTransform x:Name="SecondHandTransform" Angle="0"/>
                    </Rectangle.RenderTransform>
                </Rectangle>

                <!-- Center Pin -->
                <Ellipse Width="16" Height="16" Fill="#D4AF37" Stroke="Black" StrokeThickness="1" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                
            </Grid>
        </Viewbox>

        <!-- Controls -->
        <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Center" Margin="20">
            <Button Content="Trigger Minute Repeater (三问报时)" 
                    Click="OnMinuteRepeaterClick" 
                    Padding="15,10" 
                    FontSize="16" 
                    Background="#D4AF37" 
                    Foreground="White"
                    FontWeight="Bold"
                    BorderThickness="0">
                <Button.Resources>
                    <Style TargetType="Border">
                        <Setter Property="CornerRadius" Value="5"/>
                    </Style>
                </Button.Resources>
            </Button>
            <TextBlock x:Name="StatusText" Text="" Foreground="White" VerticalAlignment="Center" Margin="15,0,0,0" FontSize="14"/>
        </StackPanel>
    </Grid>
</Window>
